/*! For license information please see src_Components_LimitForm_js.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_Components_LimitForm_js"],{"./src/Components/LimitForm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ "./node_modules/axios/lib/axios.js");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");\n/* harmony import */ var _Redux_limitSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Redux/limitSlice */ "./src/Redux/limitSlice.js");\n\n\n// Redux\n\n\nfunction LimitForm() {\n  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();\n  const isLimitFormStarted = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(state => state.limit.limitForm);\n  const [limit, setLimit] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [timeLimit, setTimeLimit] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [timeLimitCheck, setTimeLimitCheck] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const handleCheckboxChange = event => {\n    setTimeLimitCheck(event.target.checked);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let present = new Date();\n    let limitDate = new Date(timeLimit);\n    let diff = limitDate.getTime() - present.getTime();\n    let remaning = Math.ceil(diff / (1000 * 60 * 60 * 24));\n    let limitObj = {\n      id: 1,\n      total: limit,\n      dateLimit: isNaN(remaning) ? "" : remaning\n    };\n    try {\n      const callAPI = await axios__WEBPACK_IMPORTED_MODULE_3__["default"].put(\'http://127.0.0.1:8000/api/update-limit/\', limitObj).then(response => {\n        dispatch((0,_Redux_limitSlice__WEBPACK_IMPORTED_MODULE_2__.changeLimit)({\n          newLimit: limit,\n          newDate: isNaN(remaning) ? "" : remaning\n        }));\n        dispatch((0,_Redux_limitSlice__WEBPACK_IMPORTED_MODULE_2__.closeForm)());\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: isLimitFormStarted ? "form-wrapper" : "form-wrapper form-wrapper-show"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "form-container"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("form", {\n    onSubmit: handleSubmit,\n    className: "form"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "form-group"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label", null, "Limit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "number",\n    onChange: e => setLimit(e.target.value)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "form-group form-group-check"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label", null, "Set Time Limit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "checkbox",\n    onChange: handleCheckboxChange,\n    checked: timeLimitCheck\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: timeLimitCheck ? "form group show-date-field" : "hide-date-field"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label", null, "Set Time Limit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "date",\n    onChange: e => setTimeLimit(e.target.value)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    type: "submit",\n    className: "submit-btn"\n  }, "Submit")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    onClick: () => dispatch((0,_Redux_limitSlice__WEBPACK_IMPORTED_MODULE_2__.closeForm)()),\n    className: "close-form"\n  }, "Close form")));\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LimitForm);\n\n//# sourceURL=webpack://frontend/./src/Components/LimitForm.js?')}}]);